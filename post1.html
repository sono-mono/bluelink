<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>BlueLink • Post a Job</title>
<link rel="stylesheet" href="styles.css"/>
</head>
<body>
<header class="header" >
  <div class="container row" >
    <div class="brand"> <a href="index.html" style="padding-right:20px;">  <img src="Instagram post - 1 (1).png" style="border-radius: 0px;" class="logo"><span>BlueLink</span></a>
    <div style=" height: 5px;padding: 0;margin: 0;display: flex; border: 3px solid rgb(220, 226, 230); border-radius: 8px; height: 30px;"><img src="srch.png" alt="" height="20" width="20" style="margin:4px ;">
        <input type="text"  name="name" id="seh" placeholder=" search" style="display: inline-block; border: none;; outline: none;"></div></div>

        <div clas="xfg"  style="font-family:system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; font-weight:600;">
          <a href="index.html" style="margin-right: 20px">Home</a>
          <a href="network.html" style="margin-right: 20px;color: blue;">Network</a>
          <a href="notifications.html" style="margin-right: 20px" >Notifications</a>
          <a href="jobs.html" style="margin-right: 20px;color: blue;">Jobs</a>
          <a href="profile.html" style="margin-right: 20px">Profile</a>

        </div>
    <div class="actions" style="white-space: nowrap;">
      
      
      <select aria-label="Language"><option>EN</option><option>HI</option></select>
      <button class="btn">Log in</button>
      <button class="btn primary">Sign up</button>
    </div>
  </div>
</header>
<main class="container grid">
  <form id="jobForm" class="card grid">
    <h1 class="section-title">Post a job in 60 seconds</h1>
    <div class="grid cols-2">
      <input class="input" name="title" placeholder="Job title *" required />
      <select class="input" name="trade" required>
        <option value="">Select trade *</option>
        <option>Plumber</option><option>Mason</option><option>Carpenter</option><option>Electrician</option><option>Painter</option>
      </select>
    </div>

    <textarea class="input" name="desc" rows="4" placeholder="Describe the work, tools, experience needed"></textarea>

    <div class="grid cols-3">
      <input class="input" name="location" placeholder="Location/Area *" required />
      <input class="input" name="schedule" placeholder="Schedule (e.g., Mon-Fri 9-6)" />
      <input class="input" name="pay" placeholder="Pay (₹/day or ₹/hour) *" required />
    </div>

    <div class="grid cols-3">
      <input class="input" name="headcount" type="number" min="1" value="1" placeholder="No. of workers *" required />
      <label class="inline"><input type="checkbox" name="verified" /> Employer verified</label>
      <input class="input" name="contact" placeholder="Contact preference (Call/Chat)" />
    </div>

    <div class="row">
      <button class="btn" type="reset">Clear</button>
      <button class="btn primary" type="submit">Publish job</button>
    </div>
  </form>

  <section class="card">
    <h2 class="section-title">Preview</h2>
    <div id="preview" class="item">Fill the form to see live preview.</div>
  </section>
</main>

<script src="app.js"></script>
<script>
  const form = $("#jobForm");
  const prev = $("#preview");

  function toObj(fd){return Object.fromEntries([...fd.entries()].map(([k,v])=>[k, v instanceof File ? v.name : v]))}
  function renderPreview(d){
    prev.innerHTML = `
      <div class="row"><b>${d.title||"Job title"}</b> ${d.verified?'<span class="badge">Verified</span>':''}</div>
      <div class="inline">${d.trade||"Trade"} • ${d.pay||"Pay"} • ${d.location||"Location"} • ${d.schedule||"Schedule"}</div>
      <p style="margin:6px 0">${d.desc||"Job description will appear here."}</p>
      <small>Headcount: ${d.headcount||"1"} • Contact: ${d.contact||"Chat"}</small>
    `;
  }

  form.addEventListener("input", ()=>{
    const d = toObj(new FormData(form));
    renderPreview(d);
  });

  form.addEventListener("submit",(e)=>{
    e.preventDefault();
    const d = toObj(new FormData(form));
    const jobs = load("jobs", MOCK_JOBS);
    const newJob = { id: Date.now(), title:d.title, trade:d.trade, pay:d.pay, distance:"0.5 km", shift:d.schedule||"Flexible", verified:!!d.verified, employer:"You" };
    jobs.unshift(newJob);
    save("jobs", jobs);
    toast("Job published","success");
    setTimeout(()=>location.href="jobs.html",900);
  });
</script>
</body>
</html>
